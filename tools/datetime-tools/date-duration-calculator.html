<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Date Duration Calculator | Calculate Time Between Dates | EveryTool.tech</title>
    <meta name="description" content="Calculate precise duration between two dates with multiple unit conversions. Get humanized output, add/subtract dates, and find recurrent dates. Perfect for project planning and time tracking.">
    <meta name="keywords" content="date duration calculator, time between dates, date difference, date arithmetic, recurrent dates, project duration">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph / Social Media Meta Tags -->
    <meta property="og:title" content="Date Duration Calculator | EveryTool.tech">
    <meta property="og:description" content="Calculate precise duration between two dates with multiple unit conversions. Get humanized output, add/subtract dates, and find recurrent dates. Perfect for project planning and time tracking.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://everytool.tech/tools/datetime-tools/date-duration-calculator">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/assets/favicon.png">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- FAQ section styling -->
    <link rel="stylesheet" href="/FAQ section/faq.css">
    <link rel="stylesheet" href="/tools/tool.css">
    <!-- Back to top button -->
    <link rel="stylesheet" href="/back-to-top.css">
    <script src="/back-to-top.js"></script>
    <script src="/app-loader.js" defer></script>
    
    <style>
        /* Mobile optimization - ensure header has space while loading */
        #header-placeholder {
            min-height: 130px;
            position: relative; 
            z-index: 2000;      
        }
        @media (max-width: 768px) {
            #header-placeholder {
                min-height: 64px;
            }
        }

        /* Date Duration Calculator Specific Styles */
        .duration-calc-container { 
            padding: 20px; 
            border: 1px solid #e0e0e0; 
            border-radius: 8px; 
            background-color: #fdfdfd; 
            display: flex; 
            flex-direction: column; 
            gap: 25px; 
        }
        
        .duration-calc-section { 
            border-bottom: 1px dashed #ddd; 
            padding-bottom: 20px; 
        }
        
        .duration-calc-section:last-child { 
            border-bottom: none; 
        }
        
        .duration-calc-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); 
            gap: 20px; 
        }
        
        .duration-form-group { 
            display: flex; 
            flex-direction: column; 
        }
        
        .duration-form-group label { 
            margin-bottom: 8px; 
            font-weight: 500; 
            color: #333; 
        }
        
        .duration-form-group input, .duration-form-group select { 
            padding: 10px; 
            border: 1px solid #ccc; 
            border-radius: 4px; 
            font-size: 1rem; 
        }
        
        .date-inputs {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .date-input-group {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #e9ecef;
        }
        
        .date-input-group h4 {
            margin: 0 0 15px 0;
            color: #007bff;
            font-size: 1.1rem;
        }
        
        .time-toggle {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .time-toggle input[type="checkbox"] {
            width: 18px;
            height: 18px;
        }
        
        .duration-results {
            margin-top: 20px;
            padding: 20px;
            background: #e8f5e8;
            border-radius: 8px;
            border-left: 4px solid #28a745;
        }
        
        .duration-display {
            font-size: 2rem;
            font-weight: 700;
            color: #28a745;
            text-align: center;
            margin-bottom: 15px;
        }
        
        .units-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .unit-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            border: 1px solid #ddd;
        }
        
        .unit-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: #007bff;
            margin-bottom: 5px;
        }
        
        .unit-label {
            font-size: 0.9rem;
            color: #666;
        }
        
        .humanized-output {
            margin-top: 20px;
            padding: 15px;
            background: #fff3cd;
            border-radius: 8px;
            border-left: 4px solid #ffc107;
            font-size: 1.1rem;
            font-weight: 500;
            color: #856404;
        }
        
        .date-arithmetic {
            margin-top: 20px;
            padding: 15px;
            background: #e3f2fd;
            border-radius: 8px;
            border: 1px solid #bbdefb;
        }
        
        .arithmetic-controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .arithmetic-results {
            margin-top: 15px;
            padding: 15px;
            background: white;
            border-radius: 4px;
            border: 1px solid #ddd;
        }
        
        .recurrent-dates {
            margin-top: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            border: 1px solid #dee2e6;
        }
        
        .recurrent-controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .recurrent-results {
            margin-top: 15px;
            padding: 15px;
            background: white;
            border-radius: 4px;
            border: 1px solid #ddd;
        }
        
        .date-list {
            list-style: none;
            padding: 0;
            margin: 10px 0;
        }
        
        .date-list li {
            padding: 8px 12px;
            margin: 5px 0;
            background: #f8f9fa;
            border-radius: 4px;
            border-left: 3px solid #007bff;
        }

        /* Mobile-specific optimizations */
        @media (max-width: 768px) {
            .duration-calc-container { 
                padding: 15px; 
                gap: 20px; 
            }
            .duration-calc-grid { 
                grid-template-columns: 1fr; 
                gap: 15px; 
            }
            .date-inputs {
                grid-template-columns: 1fr;
            }
            .units-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            .arithmetic-controls, .recurrent-controls {
                grid-template-columns: 1fr;
            }
            .duration-form-group input, .duration-form-group select { 
                font-size: 16px; /* Prevents zoom on iOS */
            }
            .duration-display {
                font-size: 1.8rem;
            }
        }

        @media (max-width: 480px) {
            .duration-calc-container { 
                padding: 12px; 
                gap: 15px; 
            }
            .units-grid {
                grid-template-columns: 1fr;
            }
            .duration-display {
                font-size: 1.6rem;
            }
            .duration-form-group input, .duration-form-group select { 
                padding: 8px; 
            }
        }
    </style>
</head>

<body data-tool-name="Date Duration Calculator" data-meta-description="Calculate precise duration between two dates with multiple unit conversions. Get humanized output, add/subtract dates, and find recurrent dates. Perfect for project planning and time tracking.">
    <!-- Header will be loaded by page-loader.js -->

    <!-- Tool Hero Section -->
    <section class="tool-hero">
        <div class="tool-hero__container">
            <div class="tool-hero__content">
                <div class="tool-hero__left">
                    <h1 class="tool-hero__title">Date Duration Calculator: Precise Time Between Dates</h1>
                    <p class="tool-hero__description">
                        Calculate precise duration between two dates with multiple unit conversions. Get humanized output, 
                        add/subtract dates, and find recurrent dates. Perfect for project planning and time tracking.
                    </p>
                    <div class="tool-hero__features">
                        <div class="tool-feature">
                            <i class="fas fa-calendar-alt"></i>
                            <span>Multiple Units</span>
                        </div>
                        <div class="tool-feature">
                            <i class="fas fa-language"></i>
                            <span>Humanized Output</span>
                        </div>
                        <div class="tool-feature">
                            <i class="fas fa-plus-minus"></i>
                            <span>Date Arithmetic</span>
                        </div>
                        <div class="tool-feature">
                            <i class="fas fa-repeat"></i>
                            <span>Recurrent Dates</span>
                        </div>
                    </div>
                    <div class="tool-hero__cta">
                        <a href="#tool-display" class="tool-button tool-button--primary">
                            <i class="fas fa-calculator"></i>
                            Calculate Duration
                        </a>
                        <a href="#learn-more" class="tool-button tool-button--secondary">
                            <i class="fas fa-book"></i>
                            Learn About Date Calculations
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Tool Display Section -->
    <section id="tool-display" class="tool-display">
        <div class="tool-display__container">
            <div class="tool-display__wrapper">
                <div class="tool-display__header">
                    <h2 class="tool-display__title">Date Duration Calculator</h2>
                    <p class="tool-display__description">
                        Calculate the precise duration between two dates with multiple unit conversions and advanced features.
                    </p>
                </div>
                
                <!-- Date Duration Calculator Custom Interface -->
                <div class="duration-calc-container">
                    <div class="duration-calc-section">
                        <h4>1. Select Dates</h4>
                        <div class="date-inputs">
                            <div class="date-input-group">
                                <h4>Start Date (Date A)</h4>
                                <div class="time-toggle">
                                    <input type="checkbox" id="include-time-a">
                                    <label for="include-time-a">Include Time</label>
                                </div>
                                <div class="duration-calc-grid">
                                    <div class="duration-form-group">
                                        <label for="date-a">Date</label>
                                        <input type="date" id="date-a" value="2020-01-01">
                                    </div>
                                    <div class="duration-form-group" id="time-a-group" style="display: none;">
                                        <label for="time-a">Time</label>
                                        <input type="time" id="time-a" value="00:00">
                                    </div>
                                </div>
                            </div>
                            
                            <div class="date-input-group">
                                <h4>End Date (Date B)</h4>
                                <div class="time-toggle">
                                    <input type="checkbox" id="include-time-b">
                                    <label for="include-time-b">Include Time</label>
                                </div>
                                <div class="duration-calc-grid">
                                    <div class="duration-form-group">
                                        <label for="date-b">Date</label>
                                        <input type="date" id="date-b" value="2025-01-01">
                                    </div>
                                    <div class="duration-form-group" id="time-b-group" style="display: none;">
                                        <label for="time-b">Time</label>
                                        <input type="time" id="time-b" value="00:00">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="duration-calc-section">
                        <h4>2. Duration Results</h4>
                        <div class="duration-results" id="duration-results" style="display: none;">
                            <div class="duration-display" id="duration-display">0 days</div>
                            
                            <div class="units-grid" id="units-grid">
                                <!-- Unit conversions will be added here -->
                            </div>
                            
                            <div class="humanized-output" id="humanized-output">
                                <!-- Humanized output will be added here -->
                            </div>
                        </div>
                    </div>

                    <div class="date-arithmetic">
                        <h4>3. Date Arithmetic</h4>
                        <div class="arithmetic-controls">
                            <div class="duration-form-group">
                                <label for="arithmetic-operation">Operation</label>
                                <select id="arithmetic-operation">
                                    <option value="add">Add to Date A</option>
                                    <option value="subtract">Subtract from Date A</option>
                                </select>
                            </div>
                            <div class="duration-form-group">
                                <label for="arithmetic-value">Value</label>
                                <input type="number" id="arithmetic-value" placeholder="30" min="1" value="30">
                            </div>
                            <div class="duration-form-group">
                                <label for="arithmetic-unit">Unit</label>
                                <select id="arithmetic-unit">
                                    <option value="days">Days</option>
                                    <option value="weeks">Weeks</option>
                                    <option value="months">Months</option>
                                    <option value="years">Years</option>
                                </select>
                            </div>
                            <div class="duration-form-group">
                                <button class="tool-display__button" onclick="calculateArithmetic()">
                                    <i class="fas fa-calculator"></i>
                                    Calculate
                                </button>
                            </div>
                        </div>
                        <div class="arithmetic-results" id="arithmetic-results" style="display: none;">
                            <!-- Arithmetic results will be added here -->
                        </div>
                    </div>

                    <div class="recurrent-dates">
                        <h4>4. Recurrent Date Finder</h4>
                        <div class="recurrent-controls">
                            <div class="duration-form-group">
                                <label for="recurrent-pattern">Pattern</label>
                                <select id="recurrent-pattern">
                                    <option value="weekly">Every Week</option>
                                    <option value="biweekly">Every 2 Weeks</option>
                                    <option value="monthly">Every Month</option>
                                    <option value="quarterly">Every Quarter</option>
                                    <option value="yearly">Every Year</option>
                                    <option value="weekday">Every Weekday</option>
                                    <option value="weekend">Every Weekend</option>
                                    <option value="first-monday">First Monday of Month</option>
                                    <option value="last-friday">Last Friday of Month</option>
                                </select>
                            </div>
                            <div class="duration-form-group">
                                <label for="recurrent-count">Number of Occurrences</label>
                                <input type="number" id="recurrent-count" placeholder="10" min="1" max="100" value="10">
                            </div>
                            <div class="duration-form-group">
                                <button class="tool-display__button" onclick="calculateRecurrent()">
                                    <i class="fas fa-calendar-plus"></i>
                                    Find Dates
                                </button>
                            </div>
                        </div>
                        <div class="recurrent-results" id="recurrent-results" style="display: none;">
                            <!-- Recurrent dates will be added here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Blog Section -->
    <section id="learn-more" class="tool-blog">
        <div class="tool-blog__container">
            <div class="tool-blog__header">
                <h2 class="tool-blog__title">Understanding Date Duration and Time Calculations</h2>
                <p class="tool-blog__subtitle">
                    Learn about date arithmetic, duration calculations, and how to work with different time units effectively
                </p>
            </div>
            <div class="blog-content">
                <div class="blog-section">
                    <h3 class="blog-section__title">What is Date Duration?</h3>
                    <div class="blog-section__content">
                        <p>
                            Date duration is the precise amount of time between two specific dates and times. It's essential for 
                            project planning, time tracking, age calculations, and scheduling applications.
                        </p>
                        <p>
                            <strong>Key Components:</strong>
                        </p>
                        <ul>
                            <li><strong>Years:</strong> Full calendar years between dates</li>
                            <li><strong>Months:</strong> Complete months (varies by month length)</li>
                            <li><strong>Weeks:</strong> 7-day periods</li>
                            <li><strong>Days:</strong> 24-hour periods</li>
                            <li><strong>Hours:</strong> 60-minute periods</li>
                            <li><strong>Minutes:</strong> 60-second periods</li>
                            <li><strong>Seconds:</strong> Basic time unit</li>
                        </ul>
                    </div>
                </div>

                <div class="blog-section">
                    <h3 class="blog-section__title">Precision in Date Calculations</h3>
                    <div class="blog-section__content">
                        <p>
                            <strong>Leap Years:</strong> February 29th occurs every 4 years (except century years not divisible by 400).
                        </p>
                        <p>
                            <strong>Month Variations:</strong> Different months have different numbers of days (28-31).
                        </p>
                        <p>
                            <strong>Time Zones:</strong> When including time, consider timezone differences for accurate calculations.
                        </p>
                        <p>
                            <strong>DST Changes:</strong> Daylight Saving Time can affect duration calculations by adding or subtracting an hour.
                        </p>
                        <p>
                            Our calculator handles these complexities automatically to provide accurate results.
                        </p>
                    </div>
                </div>

                <div class="blog-section">
                    <h3 class="blog-section__title">Date Arithmetic Applications</h3>
                    <div class="blog-section__content">
                        <p>
                            <strong>Project Planning:</strong> Calculate project end dates by adding duration to start dates.
                        </p>
                        <p>
                            <strong>Deadline Management:</strong> Determine how much time remains until important deadlines.
                        </p>
                        <p>
                            <strong>Age Calculations:</strong> Find exact age in various units for legal or personal purposes.
                        </p>
                        <p>
                            <strong>Recurring Events:</strong> Generate schedules for regular meetings, payments, or maintenance.
                        </p>
                        <p>
                            <strong>Time Tracking:</strong> Calculate work hours, study time, or activity duration.
                        </p>
                    </div>
                </div>

                <div class="blog-section">
                    <h3 class="blog-section__title">Best Practices for Date Calculations</h3>
                    <div class="blog-section__content">
                        <p>
                            <strong>Include Time When Relevant:</strong> For precise calculations, include specific times.
                        </p>
                        <p>
                            <strong>Consider Business Days:</strong> For work-related calculations, account for weekends and holidays.
                        </p>
                        <p>
                            <strong>Use Appropriate Units:</strong> Choose units that match your use case (days for projects, years for ages).
                        </p>
                        <p>
                            <strong>Account for Time Zones:</strong> When working across time zones, be explicit about which timezone you're using.
                        </p>
                        <p>
                            <strong>Validate Results:</strong> Double-check calculations, especially for critical applications like legal deadlines.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Move FAQ section above the footer -->
    <section class="faq-section">
      <div class="faq-container">
        <div class="faq-header">
          <h2 class="faq-title">Date Duration Calculator FAQ</h2>
          <p class="faq-subtitle">Frequently asked questions about date duration calculations</p>
        </div>
        <div class="faq-list">
          <div class="faq-item">
            <div class="faq-question"><h3>How accurate are the duration calculations?</h3><i class="fas fa-chevron-down"></i></div>
            <div class="faq-answer"><p>Our calculations are highly accurate and account for leap years, varying month lengths, and time components. When you include time, calculations are precise to the second. The calculator automatically handles all calendar complexities.</p></div>
          </div>
          <div class="faq-item">
            <div class="faq-question"><h3>What's the difference between including time or not?</h3><i class="fas fa-chevron-down"></i></div>
            <div class="faq-answer"><p>Including time provides precise calculations down to the second. Without time, calculations are based on the start of each day (midnight). For example, Jan 1 10:00 AM to Jan 2 2:00 PM is 1 day, 4 hours with time, or 1 day without time.</p></div>
          </div>
          <div class="faq-item">
            <div class="faq-question"><h3>How does the recurrent date finder work?</h3><i class="fas fa-chevron-down"></i></div>
            <div class="faq-answer"><p>The recurrent date finder generates a series of dates based on patterns like "every Monday" or "first Friday of each month." It starts from your Date A and generates the specified number of occurrences following the selected pattern.</p></div>
          </div>
          <div class="faq-item">
            <div class="faq-question"><h3>Can I use this for business day calculations?</h3><i class="fas fa-chevron-down"></i></div>
            <div class="faq-answer"><p>This calculator shows total duration including weekends. For business day calculations (excluding weekends and holidays), use our Business Days Calculator which is specifically designed for that purpose.</p></div>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer will be loaded by page-loader.js -->

    <!-- Add before     <div id="footer-placeholder"></div>

</body> -->
    <script src="/FAQ section/faq.js"></script>

    <script>
        // Date Duration Calculator Functionality
        document.addEventListener('DOMContentLoaded', function() {
            const dateA = document.getElementById('date-a');
            const timeA = document.getElementById('time-a');
            const includeTimeA = document.getElementById('include-time-a');
            const timeAGroup = document.getElementById('time-a-group');
            
            const dateB = document.getElementById('date-b');
            const timeB = document.getElementById('time-b');
            const includeTimeB = document.getElementById('include-time-b');
            const timeBGroup = document.getElementById('time-b-group');
            
            const durationResults = document.getElementById('duration-results');
            const durationDisplay = document.getElementById('duration-display');
            const unitsGrid = document.getElementById('units-grid');
            const humanizedOutput = document.getElementById('humanized-output');
            
            // Time toggle functionality
            includeTimeA.addEventListener('change', function() {
                timeAGroup.style.display = this.checked ? 'block' : 'none';
                calculateDuration();
            });
            
            includeTimeB.addEventListener('change', function() {
                timeBGroup.style.display = this.checked ? 'block' : 'none';
                calculateDuration();
            });
            
            // Event listeners for date/time inputs
            [dateA, timeA, dateB, timeB].forEach(input => {
                input.addEventListener('change', calculateDuration);
            });
            
            function calculateDuration() {
                const dateAValue = dateA.value;
                const dateBValue = dateB.value;
                
                if (!dateAValue || !dateBValue) {
                    durationResults.style.display = 'none';
                    return;
                }
                
                let startDateTime, endDateTime;
                
                if (includeTimeA.checked) {
                    startDateTime = new Date(`${dateAValue}T${timeA.value || '00:00'}`);
                } else {
                    startDateTime = new Date(`${dateAValue}T00:00:00`);
                }
                
                if (includeTimeB.checked) {
                    endDateTime = new Date(`${dateBValue}T${timeB.value || '00:00'}`);
                } else {
                    endDateTime = new Date(`${dateBValue}T00:00:00`);
                }
                
                if (isNaN(startDateTime.getTime()) || isNaN(endDateTime.getTime())) {
                    durationResults.style.display = 'none';
                    return;
                }
                
                const duration = calculateDurationBetween(startDateTime, endDateTime);
                displayDuration(duration);
            }
            
            function calculateDurationBetween(start, end) {
                const diffMs = Math.abs(end - start);
                const isNegative = end < start;
                
                // Calculate years
                let years = end.getFullYear() - start.getFullYear();
                let months = end.getMonth() - start.getMonth();
                let days = end.getDate() - start.getDate();
                let hours = end.getHours() - start.getHours();
                let minutes = end.getMinutes() - start.getMinutes();
                let seconds = end.getSeconds() - start.getSeconds();
                
                // Adjust for negative values
                if (seconds < 0) {
                    seconds += 60;
                    minutes--;
                }
                if (minutes < 0) {
                    minutes += 60;
                    hours--;
                }
                if (hours < 0) {
                    hours += 24;
                    days--;
                }
                if (days < 0) {
                    const prevMonth = new Date(end.getFullYear(), end.getMonth(), 0);
                    days += prevMonth.getDate();
                    months--;
                }
                if (months < 0) {
                    months += 12;
                    years--;
                }
                
                if (isNegative) {
                    years = -years;
                    months = -months;
                    days = -days;
                    hours = -hours;
                    minutes = -minutes;
                    seconds = -seconds;
                }
                
                return {
                    years: Math.abs(years),
                    months: Math.abs(months),
                    days: Math.abs(days),
                    hours: Math.abs(hours),
                    minutes: Math.abs(minutes),
                    seconds: Math.abs(seconds),
                    totalDays: Math.floor(diffMs / (1000 * 60 * 60 * 24)),
                    totalHours: Math.floor(diffMs / (1000 * 60 * 60)),
                    totalMinutes: Math.floor(diffMs / (1000 * 60)),
                    totalSeconds: Math.floor(diffMs / 1000),
                    totalWeeks: Math.floor(diffMs / (1000 * 60 * 60 * 24 * 7)),
                    isNegative: isNegative
                };
            }
            
            function displayDuration(duration) {
                durationResults.style.display = 'block';
                
                // Main duration display
                const mainUnit = duration.totalDays > 365 ? 'years' : 
                               duration.totalDays > 30 ? 'months' : 
                               duration.totalDays > 7 ? 'weeks' : 'days';
                
                let mainValue;
                switch(mainUnit) {
                    case 'years': mainValue = (duration.totalDays / 365.25).toFixed(1); break;
                    case 'months': mainValue = (duration.totalDays / 30.44).toFixed(1); break;
                    case 'weeks': mainValue = (duration.totalDays / 7).toFixed(1); break;
                    default: mainValue = duration.totalDays;
                }
                
                durationDisplay.textContent = `${duration.isNegative ? '-' : ''}${mainValue} ${mainUnit}`;
                
                // Units grid
                unitsGrid.innerHTML = `
                    <div class="unit-item">
                        <div class="unit-value">${duration.years}</div>
                        <div class="unit-label">Years</div>
                    </div>
                    <div class="unit-item">
                        <div class="unit-value">${duration.months}</div>
                        <div class="unit-label">Months</div>
                    </div>
                    <div class="unit-item">
                        <div class="unit-value">${duration.totalWeeks}</div>
                        <div class="unit-label">Weeks</div>
                    </div>
                    <div class="unit-item">
                        <div class="unit-value">${duration.totalDays}</div>
                        <div class="unit-label">Days</div>
                    </div>
                    <div class="unit-item">
                        <div class="unit-value">${duration.totalHours}</div>
                        <div class="unit-label">Hours</div>
                    </div>
                    <div class="unit-item">
                        <div class="unit-value">${duration.totalMinutes}</div>
                        <div class="unit-label">Minutes</div>
                    </div>
                    <div class="unit-item">
                        <div class="unit-value">${duration.totalSeconds}</div>
                        <div class="unit-label">Seconds</div>
                    </div>
                `;
                
                // Humanized output
                const parts = [];
                if (duration.years > 0) parts.push(`${duration.years} year${duration.years !== 1 ? 's' : ''}`);
                if (duration.months > 0) parts.push(`${duration.months} month${duration.months !== 1 ? 's' : ''}`);
                if (duration.days > 0) parts.push(`${duration.days} day${duration.days !== 1 ? 's' : ''}`);
                if (duration.hours > 0) parts.push(`${duration.hours} hour${duration.hours !== 1 ? 's' : ''}`);
                if (duration.minutes > 0) parts.push(`${duration.minutes} minute${duration.minutes !== 1 ? 's' : ''}`);
                if (duration.seconds > 0) parts.push(`${duration.seconds} second${duration.seconds !== 1 ? 's' : ''}`);
                
                const humanized = parts.length > 0 ? parts.join(', ') : '0 seconds';
                humanizedOutput.textContent = `${duration.isNegative ? 'Negative duration: ' : ''}${humanized}`;
            }
            
            // Make functions globally available
            window.calculateArithmetic = function() {
                const operation = document.getElementById('arithmetic-operation').value;
                const value = parseInt(document.getElementById('arithmetic-value').value) || 0;
                const unit = document.getElementById('arithmetic-unit').value;
                const resultsDiv = document.getElementById('arithmetic-results');
                
                if (value <= 0) {
                    alert('Please enter a valid value.');
                    return;
                }
                
                const dateAValue = dateA.value;
                if (!dateAValue) {
                    alert('Please select Date A first.');
                    return;
                }
                
                let startDate = new Date(`${dateAValue}T00:00:00`);
                let resultDate = new Date(startDate);
                
                const multiplier = operation === 'add' ? 1 : -1;
                const adjustedValue = value * multiplier;
                
                switch(unit) {
                    case 'days':
                        resultDate.setDate(resultDate.getDate() + adjustedValue);
                        break;
                    case 'weeks':
                        resultDate.setDate(resultDate.getDate() + (adjustedValue * 7));
                        break;
                    case 'months':
                        resultDate.setMonth(resultDate.getMonth() + adjustedValue);
                        break;
                    case 'years':
                        resultDate.setFullYear(resultDate.getFullYear() + adjustedValue);
                        break;
                }
                
                resultsDiv.innerHTML = `
                    <h5>Arithmetic Result</h5>
                    <p><strong>Original Date:</strong> ${startDate.toLocaleDateString()}</p>
                    <p><strong>Operation:</strong> ${operation} ${value} ${unit}</p>
                    <p><strong>Result Date:</strong> ${resultDate.toLocaleDateString()}</p>
                    <p><strong>Duration:</strong> ${Math.abs(Math.floor((resultDate - startDate) / (1000 * 60 * 60 * 24)))} days</p>
                `;
                resultsDiv.style.display = 'block';
            };
            
            window.calculateRecurrent = function() {
                const pattern = document.getElementById('recurrent-pattern').value;
                const count = parseInt(document.getElementById('recurrent-count').value) || 10;
                const resultsDiv = document.getElementById('recurrent-results');
                
                const dateAValue = dateA.value;
                if (!dateAValue) {
                    alert('Please select Date A first.');
                    return;
                }
                
                const startDate = new Date(`${dateAValue}T00:00:00`);
                const dates = generateRecurrentDates(startDate, pattern, count);
                
                resultsDiv.innerHTML = `
                    <h5>Recurrent Dates</h5>
                    <p><strong>Pattern:</strong> ${pattern.replace('-', ' ')}</p>
                    <p><strong>Starting from:</strong> ${startDate.toLocaleDateString()}</p>
                    <ul class="date-list">
                        ${dates.map(date => `<li>${date.toLocaleDateString()} (${date.toLocaleDateString('en-US', {weekday: 'long'})})</li>`).join('')}
                    </ul>
                `;
                resultsDiv.style.display = 'block';
            };
            
            function generateRecurrentDates(startDate, pattern, count) {
                const dates = [];
                let currentDate = new Date(startDate);
                
                for (let i = 0; i < count; i++) {
                    dates.push(new Date(currentDate));
                    
                    switch(pattern) {
                        case 'weekly':
                            currentDate.setDate(currentDate.getDate() + 7);
                            break;
                        case 'biweekly':
                            currentDate.setDate(currentDate.getDate() + 14);
                            break;
                        case 'monthly':
                            currentDate.setMonth(currentDate.getMonth() + 1);
                            break;
                        case 'quarterly':
                            currentDate.setMonth(currentDate.getMonth() + 3);
                            break;
                        case 'yearly':
                            currentDate.setFullYear(currentDate.getFullYear() + 1);
                            break;
                        case 'weekday':
                            do {
                                currentDate.setDate(currentDate.getDate() + 1);
                            } while (currentDate.getDay() === 0 || currentDate.getDay() === 6);
                            break;
                        case 'weekend':
                            do {
                                currentDate.setDate(currentDate.getDate() + 1);
                            } while (currentDate.getDay() !== 0 && currentDate.getDay() !== 6);
                            break;
                        case 'first-monday':
                            if (i === 0) {
                                // Find first Monday of current month
                                const firstDay = new Date(currentDate.getFullYear(), currentDate.getMonth(), 1);
                                const dayOfWeek = firstDay.getDay();
                                const daysToAdd = dayOfWeek === 0 ? 1 : 8 - dayOfWeek;
                                currentDate = new Date(firstDay.getTime() + daysToAdd * 24 * 60 * 60 * 1000);
                            } else {
                                // Move to next month and find first Monday
                                currentDate.setMonth(currentDate.getMonth() + 1);
                                const firstDay = new Date(currentDate.getFullYear(), currentDate.getMonth(), 1);
                                const dayOfWeek = firstDay.getDay();
                                const daysToAdd = dayOfWeek === 0 ? 1 : 8 - dayOfWeek;
                                currentDate = new Date(firstDay.getTime() + daysToAdd * 24 * 60 * 60 * 1000);
                            }
                            break;
                        case 'last-friday':
                            if (i === 0) {
                                // Find last Friday of current month
                                const lastDay = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 0);
                                const dayOfWeek = lastDay.getDay();
                                const daysToSubtract = dayOfWeek >= 5 ? dayOfWeek - 5 : dayOfWeek + 2;
                                currentDate = new Date(lastDay.getTime() - daysToSubtract * 24 * 60 * 60 * 1000);
                            } else {
                                // Move to next month and find last Friday
                                currentDate.setMonth(currentDate.getMonth() + 1);
                                const lastDay = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 0);
                                const dayOfWeek = lastDay.getDay();
                                const daysToSubtract = dayOfWeek >= 5 ? dayOfWeek - 5 : dayOfWeek + 2;
                                currentDate = new Date(lastDay.getTime() - daysToSubtract * 24 * 60 * 60 * 1000);
                            }
                            break;
                    }
                }
                
                return dates;
            }
            
            // Initialize
            calculateDuration();
        });
    </script>

<script src="/universal-search-deploy.js"></script>
<script src="../../view.js" defer></script>

</body>
</html>
