<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Remove Duplicate Lines & Sort Text | EveryTool.tech</title>
    <meta name="description" content="Deduplicate lines, sort alphabetically or numerically, ignore case/empty lines, trim whitespace, export TXT/CSV, batch mode, clipboard copy.">
    <link rel="icon" type="image/svg+xml" href="../../assets/SVG/favicon.svg">
    <link rel="stylesheet" href="../../back-to-top.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root{--primary:#4361EE;--muted:#f3f4f6;}
        body{margin:0;font-family:'Inter',-apple-system,BlinkMacSystemFont,sans-serif;color:#111827;background:#fff}
        #header-placeholder{min-height:130px}
        .container{max-width:1100px;margin:0 auto;padding:1rem}
        .card{background:#fff;border:1px solid #e5e7eb;border-radius:12px;padding:1rem;box-shadow:0 4px 10px rgba(0,0,0,.04)}
        textarea{width:100%;min-height:280px;border:1px solid #e5e7eb;border-radius:12px;padding:.8rem;font-family:ui-monospace,Consolas,monospace}
        .row{display:flex;gap:.75rem;flex-wrap:wrap;align-items:center}
        .btn{background:var(--primary);color:#fff;border:none;border-radius:10px;padding:.6rem .9rem;cursor:pointer}
        .btn.ghost{background:transparent;border:1px solid #e5e7eb;color:#111827}
        .controls{display:grid;grid-template-columns: repeat(auto-fit,minmax(200px,1fr));gap:.5rem;margin:.5rem 0}
        .stat{background:var(--muted);border-radius:10px;padding:.35rem .6rem}
        label.file{border:1px dashed #cbd5e1;padding:.55rem .9rem;border-radius:10px;cursor:pointer}
        input[type=file]{display:none}
    </style>
</head>
<body>
    <div id="header-placeholder"></div>
    <main class="container">
        <h1>Remove Duplicate Lines & Sort Text</h1>
        <p>Deduplicate by line, sort A→Z/Z→A or numerically, ignore case/empty, and export.</p>
        <section class="card">
            <div class="row">
                <label for="file-input" class="file"><i class="fa-solid fa-file-arrow-up"></i> Upload .txt/.csv</label>
                <input id="file-input" type="file" accept=".txt,.csv,.log,.md">
                <button class="btn ghost" id="paste-btn"><i class="fa-solid fa-paste"></i> Paste</button>
                <button class="btn ghost" id="clear-btn"><i class="fa-solid fa-broom"></i> Clear</button>
                <button class="btn" id="copy-btn"><i class="fa-regular fa-copy"></i> Copy</button>
                <button class="btn" id="download-txt">Download TXT</button>
                <button class="btn" id="download-csv">Download CSV</button>
            </div>

            <div class="controls">
                <div>
                    <input type="checkbox" id="ignore-case"> <label for="ignore-case">Ignore case</label>
                </div>
                <div>
                    <input type="checkbox" id="ignore-empty" checked> <label for="ignore-empty">Ignore empty lines</label>
                </div>
                <div>
                    <input type="checkbox" id="trim-lines" checked> <label for="trim-lines">Trim whitespace</label>
                </div>
                <div>
                    <input type="checkbox" id="numeric-sort"> <label for="numeric-sort">Numeric sort</label>
                </div>
            </div>

            <div class="row">
                <button class="btn ghost" id="dedupe-btn">Remove Duplicates</button>
                <button class="btn ghost" data-sort="asc">Sort A→Z</button>
                <button class="btn ghost" data-sort="desc">Sort Z→A</button>
                <button class="btn ghost" id="batch-btn">Batch Mode (lines → outputs)</button>
                <span class="stat" id="line-count">0 lines</span>
                <span class="stat" id="unique-count">0 unique</span>
            </div>

            <textarea id="input" placeholder="Paste multi-line text here..."></textarea>
        </section>
    </main>
    <div id="footer-placeholder"></div>

    <script src="/app-loader.js" defer></script>
    <script>
    (function(){
        const input = document.getElementById('input');
        const ignoreCase = document.getElementById('ignore-case');
        const ignoreEmpty = document.getElementById('ignore-empty');
        const trimLines = document.getElementById('trim-lines');
        const numericSort = document.getElementById('numeric-sort');
        const fileInput = document.getElementById('file-input');
        const pasteBtn = document.getElementById('paste-btn');
        const clearBtn = document.getElementById('clear-btn');
        const copyBtn = document.getElementById('copy-btn');
        const dlTxt = document.getElementById('download-txt');
        const dlCsv = document.getElementById('download-csv');
        const dedupeBtn = document.getElementById('dedupe-btn');
        const lineCount = document.getElementById('line-count');
        const uniqueCount = document.getElementById('unique-count');

        const getLines = () => {
            let lines = input.value.split(/\r?\n/);
            if (trimLines.checked) lines = lines.map(l => l.trim());
            if (ignoreEmpty.checked) lines = lines.filter(l => l.length>0);
            return lines;
        };
        const setLines = (lines) => { input.value = lines.join('\n'); updateStats(); };
        const updateStats = () => {
            const lines = input.value.split(/\r?\n/);
            lineCount.textContent = lines.length + ' lines';
            const uniq = new Set(lines.filter(l=>l!==''));
            uniqueCount.textContent = uniq.size + ' unique';
        };
        const sortLines = (dir) => {
            let lines = getLines();
            const cmp = (a,b) => {
                if (numericSort.checked) {
                    const na = parseFloat(a); const nb = parseFloat(b);
                    if (!isNaN(na) && !isNaN(nb)) return na - nb;
                }
                if (ignoreCase.checked) { a = a.toLowerCase(); b = b.toLowerCase(); }
                return a.localeCompare(b);
            };
            lines.sort(cmp);
            if (dir==='desc') lines.reverse();
            setLines(lines);
        };

        document.querySelectorAll('[data-sort]').forEach(btn=>{
            btn.addEventListener('click', ()=> sortLines(btn.getAttribute('data-sort')));
        });
        dedupeBtn.addEventListener('click', ()=>{
            const seen = new Set();
            const out = [];
            for (let l of getLines()){
                const key = ignoreCase.checked ? l.toLowerCase() : l;
                if (!seen.has(key)) { seen.add(key); out.push(l); }
            }
            setLines(out);
        });

        // Batch mode: treat each non-empty line as an independent set of operations
        document.getElementById('batch-btn').addEventListener('click', ()=>{
            const lines = getLines();
            if (lines.length===0) return;
            const results = lines.map(l=> l);
            const blob = new Blob([results.join('\n')], {type:'text/plain'});
            const a = document.createElement('a');
            a.href = URL.createObjectURL(blob);
            a.download = 'batch-output.txt';
            a.click();
            URL.revokeObjectURL(a.href);
        });

        fileInput.addEventListener('change', async (e)=>{
            const f = e.target.files[0]; if (!f) return; const text = await f.text(); input.value = text; updateStats(); e.target.value='';
        });
        pasteBtn.addEventListener('click', async ()=>{ try{ const t=await navigator.clipboard.readText(); if(t){ input.value=t; updateStats(); } }catch(e){} });
        clearBtn.addEventListener('click', ()=>{ input.value=''; updateStats(); });
        copyBtn.addEventListener('click', async ()=>{ try{ await navigator.clipboard.writeText(input.value); copyBtn.textContent='Copied!'; setTimeout(()=>copyBtn.textContent='Copy',1200);}catch(e){} });
        dlTxt.addEventListener('click', ()=>{ const blob=new Blob([input.value],{type:'text/plain'}); const a=document.createElement('a'); a.href=URL.createObjectURL(blob); a.download='output.txt'; a.click(); URL.revokeObjectURL(a.href); });
        dlCsv.addEventListener('click', ()=>{ const csv=getLines().map(l=> '"'+l.replace(/"/g,'""')+'"').join('\n'); const blob=new Blob([csv],{type:'text/csv'}); const a=document.createElement('a'); a.href=URL.createObjectURL(blob); a.download='output.csv'; a.click(); URL.revokeObjectURL(a.href); });

        input.addEventListener('input', updateStats);
        updateStats();
    })();
    </script>
    <script src="/back-to-top.js"></script>
</body>
</html>


