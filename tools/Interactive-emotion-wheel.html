<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Interactive Emotion Wheel | EveryTool.tech</title>
    
    <meta name="description" content="Advanced emotion wheel with AI insights, mood tracking, guided reflection, and personalized emotional intelligence tools.">
    
    <meta name="keywords" content="emotion wheel, emotional intelligence, mood tracker, feelings journal, mindfulness, mental health">
    
    <meta name="robots" content="index, follow">
    
    <meta property="og:title" content="Interactive Emotion Wheel | EveryTool.tech">
    <meta property="og:description" content="Advanced emotion wheel with AI insights, mood tracking, and personalized emotional intelligence tools.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://everytool.tech/emotion-wheel">
    
    <link rel="icon" type="image/png" href="../assets/favicon.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../FAQ section/faq.css"> 
    <link rel="stylesheet" href="tool.css"> 
    <link rel="stylesheet" href="../styles/footer.css"> 
    <!-- Back to top button -->
    <link rel="stylesheet" href="../back-to-top.css">
    <script src="../back-to-top.js"></script>
    <style>
        #header-placeholder {
            min-height: 130px;
            position: relative; 
            z-index: 2000;      
        }
        @media (max-width: 768px) {
            #header-placeholder {
                min-height: 64px;
            }
        }

        .emotion-app {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 60px 20px;
        }

        .app-container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: 30px;
            align-items: start;
        }

        .wheel-section {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.1);
        }

        .controls-panel {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 100px;
        }

        /* Advanced SVG Wheel Design */
        .wheel-container {
            position: relative;
            width: 100%;
            max-width: 400px;
            height: 400px;
            margin: 0 auto;
        }

        .emotion-wheel-svg {
            width: 100%;
            height: 100%;
            transform: rotate(-90deg);
            filter: drop-shadow(0 10px 30px rgba(0, 0, 0, 0.1));
        }

        .wheel-segment {
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            stroke: rgba(255, 255, 255, 0.2);
            stroke-width: 2;
        }

        .wheel-segment:hover {
            transform: scale(1.05);
            filter: brightness(1.1);
            stroke: rgba(255, 255, 255, 0.8);
            stroke-width: 3;
        }

        .wheel-segment.active {
            transform: scale(1.08);
            filter: brightness(1.2) saturate(1.3);
            stroke: #fff;
            stroke-width: 4;
        }

        .segment-label {
            font-family: 'Inter', sans-serif;
            font-weight: 600;
            font-size: 14px;
            fill: white;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
            text-anchor: middle;
            dominant-baseline: middle;
            pointer-events: none;
        }

        .intensity-ring {
            fill: none;
            stroke-width: 8;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .intensity-ring:hover {
            stroke-width: 12;
        }

        .wheel-center {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100px;
            height: 100px;
            background: linear-gradient(135deg, #2c3e50, #3498db);
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
            font-size: 0.9em;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
            border: 3px solid rgba(255, 255, 255, 0.9);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .wheel-center:hover {
            transform: translate(-50%, -50%) scale(1.05);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
        }

        .mode-selector {
            display: flex;
            background: #f8f9fa;
            border-radius: 12px;
            padding: 6px;
            margin-bottom: 25px;
        }

        .mode-btn {
            flex: 1;
            padding: 12px 16px;
            border: none;
            background: transparent;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .mode-btn.active {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .panel-section {
            margin-bottom: 25px;
            padding: 18px;
            background: #f8f9fa;
            border-radius: 12px;
            border-left: 4px solid #667eea;
        }

        .panel-title {
            font-size: 1.1em;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .emotion-details {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .emotion-details.active {
            display: block;
        }

        .emotion-name {
            font-size: 2.2em;
            font-weight: 800;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .intensity-slider {
            width: 100%;
            height: 8px;
            border-radius: 4px;
            background: linear-gradient(90deg, #e3f2fd 0%, #2196f3 50%, #0d47a1 100%);
            outline: none;
            margin: 15px 0;
            cursor: pointer;
        }

        .intensity-value {
            text-align: center;
            font-weight: 600;
            color: #2c3e50;
            margin-top: 10px;
        }

        .sub-emotions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 12px;
            margin: 20px 0;
        }

        .sub-emotion-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 15px 12px;
            border-radius: 12px;
            text-align: center;
            font-weight: 600;
            font-size: 0.9em;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 2px solid transparent;
        }

        .sub-emotion-card:hover {
            transform: translateY(-4px) scale(1.02);
            box-shadow: 0 12px 25px rgba(102, 126, 234, 0.3);
            border-color: rgba(255, 255, 255, 0.5);
        }

        .sub-emotion-card.selected {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            box-shadow: 0 8px 20px rgba(238, 90, 36, 0.4);
            transform: translateY(-2px);
        }

        .journal-section {
            background: #fff;
            border-radius: 16px;
            padding: 25px;
            margin-top: 20px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.05);
        }

        .journal-textarea {
            width: 100%;
            min-height: 120px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            padding: 15px;
            font-family: 'Inter', sans-serif;
            font-size: 1em;
            line-height: 1.6;
            resize: vertical;
            transition: border-color 0.3s ease;
        }

        .journal-textarea:focus {
            border-color: #667eea;
            outline: none;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .mood-tracker {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 8px;
            margin: 20px 0;
        }

        .mood-day {
            aspect-ratio: 1;
            border-radius: 12px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 0.8em;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            background: #f8f9fa;
        }

        .mood-day:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .mood-day.has-entry {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .insights-panel {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 25px;
            border-radius: 16px;
            margin-top: 20px;
        }

        .insight-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 12px;
            margin-bottom: 15px;
            backdrop-filter: blur(10px);
        }

        .breathing-exercise {
            text-align: center;
            padding: 30px;
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            border-radius: 20px;
            color: white;
            margin: 20px 0;
        }

        .breathing-circle {
            width: 120px;
            height: 120px;
            border: 3px solid rgba(255, 255, 255, 0.5);
            border-radius: 50%;
            margin: 20px auto;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.1em;
            transition: all 4s cubic-bezier(0.4, 0, 0.6, 1);
        }

        .breathing-circle.inhale {
            transform: scale(1.3);
            background: rgba(255, 255, 255, 0.1);
        }

        .breathing-circle.exhale {
            transform: scale(0.8);
            background: rgba(255, 255, 255, 0.05);
        }

        .action-buttons {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .action-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            flex: 1;
            min-width: 140px;
        }

        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
        }

        .action-btn.secondary {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
        }

        .emotion-history-timeline {
            margin-top: 20px;
            max-height: 200px;
            overflow-y: auto;
        }

        .timeline-item {
            display: flex;
            align-items: center;
            padding: 12px;
            margin-bottom: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            backdrop-filter: blur(5px);
        }

        .timeline-time {
            font-size: 0.8em;
            opacity: 0.8;
            margin-left: auto;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        @media (max-width: 1200px) {
            .app-container {
                grid-template-columns: 1fr;
                gap: 30px;
            }
            
            .controls-panel {
                position: static;
                order: 2;
            }
            
            .wheel-container {
                width: 400px;
                height: 400px;
            }
        }

        @media (max-width: 768px) {
            .emotion-app {
                padding: 20px 10px;
            }
            
            .wheel-section, .controls-panel {
                padding: 25px;
            }
            
            .wheel-container {
                width: 320px;
                height: 320px;
            }
            
            .sub-emotions-grid {
                grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            }
            
            .mode-selector {
                flex-direction: column;
                gap: 8px;
            }
        }
    </style>
</head>

<body data-tool-name="Interactive Emotion Wheel" data-meta-description="Advanced emotion wheel with AI insights, mood tracking, guided reflection, and personalized emotional intelligence tools.">
    
    <div id="header-placeholder"></div>

    <section class="tool-hero">
        <div class="tool-hero__container">
            <div class="tool-hero__content">
                <div class="tool-hero__left">
                    <h1 class="tool-hero__title">Advanced Interactive Emotion Wheel</h1>
                    
                    <p class="tool-hero__description">
                        Experience the most comprehensive emotion exploration tool with AI-powered insights, mood tracking, guided breathing exercises, and personalized emotional intelligence development.
                    </p>
                    
                    <div class="tool-hero__features">
                        <div class="tool-feature">
                            <i class="fas fa-brain"></i> <span>AI Insights</span>
                        </div>
                        <div class="tool-feature">
                            <i class="fas fa-chart-line"></i> <span>Mood Tracking</span>
                        </div>
                        <div class="tool-feature">
                            <i class="fas fa-spa"></i> <span>Guided Exercises</span>
                        </div>
                        <div class="tool-feature">
                            <i class="fas fa-journal-whills"></i> <span>Emotion Journal</span>
                        </div>
                    </div>
                    
                    <div class="tool-hero__cta">
                        <a href="#emotion-app" class="tool-button tool-button--primary">
                            <i class="fas fa-play"></i>
                            Start Your Journey - Free
                        </a>
                        <a href="#learn-more" class="tool-button tool-button--secondary">
                            <i class="fas fa-book"></i>
                            Learn More
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div id="emotion-app" class="emotion-app">
        <div class="app-container">
            <div class="wheel-section">
                <div class="mode-selector">
                    <button class="mode-btn active" data-mode="explore">
                        <i class="fas fa-search"></i> Explore
                    </button>
                    <button class="mode-btn" data-mode="track">
                        <i class="fas fa-chart-bar"></i> Track
                    </button>
                    <button class="mode-btn" data-mode="reflect">
                        <i class="fas fa-pen"></i> Reflect
                    </button>
                </div>

                <div class="wheel-container">
                    <svg class="emotion-wheel-svg" viewBox="0 0 400 400">
                        <!-- Intensity rings -->
                        <circle cx="200" cy="200" r="180" class="intensity-ring" stroke="#e3f2fd" stroke-width="4" data-intensity="1"/>
                        <circle cx="200" cy="200" r="160" class="intensity-ring" stroke="#bbdefb" stroke-width="4" data-intensity="2"/>
                        <circle cx="200" cy="200" r="140" class="intensity-ring" stroke="#90caf9" stroke-width="4" data-intensity="3"/>
                        <circle cx="200" cy="200" r="120" class="intensity-ring" stroke="#64b5f6" stroke-width="4" data-intensity="4"/>
                        <circle cx="200" cy="200" r="100" class="intensity-ring" stroke="#42a5f5" stroke-width="4" data-intensity="5"/>
                        
                        <!-- Wheel segments -->
                        <g id="wheel-segments"></g>
                        
                        <!-- Labels -->
                        <g id="segment-labels"></g>
                    </svg>
                    
                    <div class="wheel-center" id="wheel-center">
                        <div style="font-size: 0.9em;">Click to</div>
                        <div style="font-size: 1.1em;">Explore</div>
                    </div>
                </div>
            </div>

            <div class="controls-panel">
                <!-- Emotion Details -->
                <div class="panel-section">
                    <div class="panel-title">
                        <i class="fas fa-heart"></i>
                        Current Emotion
                    </div>
                    
                    <div id="emotion-display">
                        <div style="text-align: center; padding: 40px 20px; color: #666;">
                            <i class="fas fa-hand-pointer" style="font-size: 2em; margin-bottom: 15px; opacity: 0.5;"></i>
                            <p>Click on the wheel to explore your emotions</p>
                        </div>
                    </div>
                </div>

                <!-- Breathing Exercise -->
                <div class="breathing-exercise" id="breathing-exercise" style="display: none;">
                    <h4><i class="fas fa-wind"></i> Mindful Breathing</h4>
                    <div class="breathing-circle" id="breathing-circle">Breathe</div>
                    <button class="action-btn" onclick="toggleBreathing()">Start Breathing</button>
                </div>

                <!-- Quick Actions -->
                <div class="panel-section">
                    <div class="panel-title">
                        <i class="fas fa-bolt"></i>
                        Quick Actions
                    </div>
                    
                    <div class="action-buttons">
                        <button class="action-btn" onclick="randomEmotion()">
                            <i class="fas fa-random"></i> Random Emotion
                        </button>
                        <button class="action-btn secondary" onclick="showBreathing()">
                            <i class="fas fa-spa"></i> Breathe
                        </button>
                        <button class="action-btn" onclick="exportData()">
                            <i class="fas fa-download"></i> Export Data
                        </button>
                        <button class="action-btn secondary" onclick="resetAll()">
                            <i class="fas fa-refresh"></i> Reset
                        </button>
                    </div>
                </div>

                <!-- Insights Panel -->
                <div class="insights-panel" id="insights-panel" style="display: none;">
                    <h4><i class="fas fa-lightbulb"></i> AI Insights</h4>
                    <div id="insights-content"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Learning Section -->
    <section id="learn-more" class="tool-blog">
        <div class="tool-blog__container">
            <div class="tool-blog__header">
                <h2 class="tool-blog__title">Advanced Emotional Intelligence Features</h2>
                <p class="tool-blog__subtitle">
                    Discover the powerful features that make this the most comprehensive emotion exploration tool available.
                </p>
            </div>
            <div class="blog-content">
                <div class="blog-section">
                    <h3 class="blog-section__title">AI-Powered Emotional Insights</h3>
                    <div class="blog-section__content">
                        <p>Our advanced algorithm analyzes your emotional patterns and provides personalized insights about your emotional well-being. It identifies trends, suggests coping strategies, and helps you understand the connections between different emotions and life events.</p>
                    </div>
                </div>

                <div class="blog-section">
                    <h3 class="blog-section__title">Multi-Modal Interaction</h3>
                    <div class="blog-section__content">
                        <ul>
                            <li><strong>Explore Mode:</strong> Interactive wheel with intensity levels and detailed emotion mapping</li>
                            <li><strong>Track Mode:</strong> Visual mood calendar with pattern recognition and streak tracking</li>
                            <li><strong>Reflect Mode:</strong> Guided journaling with prompts and emotional analysis</li>
                            <li><strong>Breathe Mode:</strong> Guided breathing exercises with real-time visual feedback</li>
                        </ul>
                    </div>
                </div>

                <div class="blog-section">
                    <h3 class="blog-section__title">Advanced Features</h3>
                    <div class="blog-section__content">
                        <p>Experience emotion intensity scaling, personalized coping strategies, mood correlation analysis, emotional vocabulary building, mindfulness integration, and comprehensive data export capabilities for long-term emotional health tracking.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section class="faq-section">
        <div class="faq-container">
            <div class="faq-header">
                <h2 class="faq-title">Frequently Asked Questions</h2>
                <p class="faq-subtitle">Everything you need to know about our advanced emotion wheel.</p>
            </div>
            <div class="faq-list">
                <div class="faq-item">
                    <div class="faq-question">
                        How does the AI analysis work?
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        <p>Our AI analyzes patterns in your emotional selections, intensity levels, and journal entries to provide personalized insights about your emotional patterns, triggers, and suggestions for emotional regulation techniques.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question">
                        Can I track my emotions over time?
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        <p>Yes! The tool includes comprehensive mood tracking with visual calendars, streak counters, pattern recognition, and the ability to export your data for external analysis or sharing with healthcare providers.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question">
                        Is my emotional data secure?
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        <p>Absolutely. All data processing happens locally in your browser. Your emotional data never leaves your device unless you choose to export it. We prioritize your privacy and emotional safety.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div id="footer-placeholder"></div>
    
    <script src="../scripts/page-loader.js" defer></script> 
    <script src="../scripts/footer.js" defer></script>
    <script src="../FAQ section/faq.js" defer></script> 
    <script src="../universal-search-deploy.js" defer></script>

    <script>
        // Enhanced emotion data with more sophisticated information
        const emotionData = {
            joy: {
                name: "Joy", color: "#ff6b6b", angle: 0,
                description: "A feeling of great pleasure, happiness, and positive energy that radiates through your entire being.",
                subEmotions: ["Ecstasy", "Bliss", "Delight", "Euphoria", "Elation", "Contentment", "Satisfaction", "Cheerfulness", "Optimism", "Serenity", "Amusement", "Pride"],
                triggers: ["Achievements", "Relationships", "Beautiful moments", "Success"],
                copingStrategies: ["Practice gratitude daily", "Share joy with others", "Savor positive moments", "Create joy rituals"],
                physicalSensations: ["Light feeling in chest", "Smiling", "Increased energy", "Relaxed muscles"],
                intensity: { low: "Contentment", medium: "Happiness", high: "Euphoria" }
            },
            trust: {
                name: "Trust", color: "#4ecdc4", angle: 45,
                description: "A sense of confidence, security, and faith in yourself, others, or situations around you.",
                subEmotions: ["Acceptance", "Devotion", "Love", "Admiration", "Respect", "Loyalty", "Faith", "Security", "Comfort", "Assurance", "Confidence", "Reliability"],
                triggers: ["Consistent behavior", "Vulnerability sharing", "Kept promises", "Safety"],
                copingStrategies: ["Build trust gradually", "Communicate openly", "Set healthy boundaries", "Practice self-trust"],
                physicalSensations: ["Relaxed posture", "Deep breathing", "Open body language", "Calm heartbeat"],
                intensity: { low: "Acceptance", medium: "Trust", high: "Devotion" }
            },
            fear: {
                name: "Fear", color: "#45b7d1", angle: 90,
                description: "An emotion triggered by perceived danger, threat, or uncertainty about the future.",
                subEmotions: ["Terror", "Panic", "Anxiety", "Worry", "Nervousness", "Apprehension", "Dread", "Concern", "Unease", "Vulnerability", "Insecurity", "Overwhelm"],
                triggers: ["Unknown situations", "Past trauma", "Loss of control", "Rejection"],
                copingStrategies: ["Practice deep breathing", "Challenge negative thoughts", "Gradual exposure", "Seek support"],
                physicalSensations: ["Racing heart", "Sweating", "Tension", "Shallow breathing"],
                intensity: { low: "Concern", medium: "Anxiety", high: "Terror" }
            },
            surprise: {
                name: "Surprise", color: "#f9ca24", angle: 135,
                description: "A sudden feeling caused by something unexpected, which can be positive or negative.",
                subEmotions: ["Amazement", "Astonishment", "Wonder", "Bewilderment", "Confusion", "Shock", "Awe", "Fascination", "Curiosity", "Perplexity", "Startlement", "Disbelief"],
                triggers: ["Unexpected events", "New information", "Sudden changes", "Revelations"],
                copingStrategies: ["Stay present", "Process slowly", "Ask questions", "Embrace curiosity"],
                physicalSensations: ["Raised eyebrows", "Wide eyes", "Quick intake of breath", "Momentary freeze"],
                intensity: { low: "Curiosity", medium: "Surprise", high: "Shock" }
            },
            sadness: {
                name: "Sadness", color: "#6c5ce7", angle: 180,
                description: "A natural emotional response to loss, disappointment, or unmet expectations.",
                subEmotions: ["Grief", "Sorrow", "Melancholy", "Despair", "Loneliness", "Dejection", "Disappointment", "Hurt", "Anguish", "Mourning", "Gloom", "Heartbreak"],
                triggers: ["Loss", "Rejection", "Failure", "Loneliness"],
                copingStrategies: ["Allow yourself to feel", "Seek comfort", "Express emotions", "Practice self-compassion"],
                physicalSensations: ["Heavy chest", "Tears", "Low energy", "Slumped posture"],
                intensity: { low: "Melancholy", medium: "Sadness", high: "Grief" }
            },
            disgust: {
                name: "Disgust", color: "#a29bfe", angle: 225,
                description: "A feeling of revulsion or strong disapproval toward something unpleasant or morally objectionable.",
                subEmotions: ["Revulsion", "Contempt", "Loathing", "Aversion", "Distaste", "Repugnance", "Scorn", "Disdain", "Abhorrence", "Nausea", "Boredom", "Dislike"],
                triggers: ["Unpleasant stimuli", "Moral violations", "Poor hygiene", "Betrayal"],
                copingStrategies: ["Remove yourself from trigger", "Practice tolerance", "Set boundaries", "Focus on positives"],
                physicalSensations: ["Nausea", "Wrinkled nose", "Turning away", "Tightened face"],
                intensity: { low: "Distaste", medium: "Disgust", high: "Revulsion" }
            },
            anger: {
                name: "Anger", color: "#fd79a8", angle: 270,
                description: "An intense emotion triggered by perceived injustice, frustration, or threat to your values.",
                subEmotions: ["Rage", "Fury", "Wrath", "Irritation", "Annoyance", "Frustration", "Indignation", "Resentment", "Hostility", "Outrage", "Exasperation", "Aggravation"],
                triggers: ["Injustice", "Frustration", "Disrespect", "Blocked goals"],
                copingStrategies: ["Physical exercise", "Deep breathing", "Express constructively", "Problem-solving"],
                physicalSensations: ["Tension", "Heat", "Clenched jaw", "Rapid heartbeat"],
                intensity: { low: "Irritation", medium: "Anger", high: "Rage" }
            },
            anticipation: {
                name: "Anticipation", color: "#00b894", angle: 315,
                description: "Forward-looking emotion involving expectation, hope, or anxiety about future events.",
                subEmotions: ["Excitement", "Eagerness", "Hope", "Expectation", "Vigilance", "Interest", "Enthusiasm", "Optimism", "Impatience", "Restlessness", "Alertness", "Preparedness"],
                triggers: ["Future events", "New opportunities", "Changes ahead", "Goals in sight"],
                copingStrategies: ["Stay present", "Plan realistically", "Channel energy positively", "Practice patience"],
                physicalSensations: ["Alertness", "Forward lean", "Increased focus", "Restless energy"],
                intensity: { low: "Interest", medium: "Anticipation", high: "Excitement" }
            }
        };

        // App state
        let currentEmotion = null;
        let currentIntensity = 3;
        let currentMode = 'explore';
        let selectedSubEmotions = [];
        let emotionHistory = [];
        let isBreathing = false;
        let breathingInterval = null;
        let moodData = {};

        // Initialize the app
        document.addEventListener('DOMContentLoaded', function() {
            initializeWheel();
            initializeEventListeners();
            loadSavedData();
        });

        function initializeWheel() {
            const segmentsGroup = document.getElementById('wheel-segments');
            const labelsGroup = document.getElementById('segment-labels');
            
            Object.entries(emotionData).forEach(([key, emotion], index) => {
                // Create wheel segment
                const segment = createWheelSegment(emotion, index);
                segmentsGroup.appendChild(segment);
                
                // Create label
                const label = createSegmentLabel(emotion, index);
                labelsGroup.appendChild(label);
            });
        }

        function createWheelSegment(emotion, index) {
            const segment = document.createElementNS("http://www.w3.org/2000/svg", "path");
            const centerX = 200, centerY = 200;
            const outerRadius = 180, innerRadius = 100;
            const angleStart = (index * 45) - 22.5;
            const angleEnd = angleStart + 45;
            
            const path = createArcPath(centerX, centerY, innerRadius, outerRadius, angleStart, angleEnd);
            
            segment.setAttribute('d', path);
            segment.setAttribute('fill', emotion.color);
            segment.setAttribute('class', 'wheel-segment');
            segment.setAttribute('data-emotion', Object.keys(emotionData)[index]);
            
            segment.addEventListener('click', () => selectEmotion(Object.keys(emotionData)[index]));
            
            return segment;
        }

        function createSegmentLabel(emotion, index) {
            const label = document.createElementNS("http://www.w3.org/2000/svg", "text");
            const angle = (index * 45);
            const radius = 140;
            const x = 200 + Math.cos((angle - 90) * Math.PI / 180) * radius;
            const y = 200 + Math.sin((angle - 90) * Math.PI / 180) * radius;
            
            label.setAttribute('x', x);
            label.setAttribute('y', y);
            label.setAttribute('class', 'segment-label');
            label.textContent = emotion.name;
            label.style.transform = `rotate(${angle}deg)`;
            label.style.transformOrigin = `${x}px ${y}px`;
            
            return label;
        }

        function createArcPath(cx, cy, innerRadius, outerRadius, startAngle, endAngle) {
            const start1 = polarToCartesian(cx, cy, outerRadius, startAngle);
            const end1 = polarToCartesian(cx, cy, outerRadius, endAngle);
            const start2 = polarToCartesian(cx, cy, innerRadius, startAngle);
            const end2 = polarToCartesian(cx, cy, innerRadius, endAngle);
            
            const largeArcFlag = endAngle - startAngle <= 180 ? "0" : "1";
            
            return `M ${start1.x} ${start1.y} 
                    A ${outerRadius} ${outerRadius} 0 ${largeArcFlag} 1 ${end1.x} ${end1.y}
                    L ${end2.x} ${end2.y}
                    A ${innerRadius} ${innerRadius} 0 ${largeArcFlag} 0 ${start2.x} ${start2.y} Z`;
        }

        function polarToCartesian(centerX, centerY, radius, angleInDegrees) {
            const angleInRadians = (angleInDegrees - 90) * Math.PI / 180;
            return {
                x: centerX + (radius * Math.cos(angleInRadians)),
                y: centerY + (radius * Math.sin(angleInRadians))
            };
        }

        function initializeEventListeners() {
            // Mode selector
            document.querySelectorAll('.mode-btn').forEach(btn => {
                btn.addEventListener('click', () => switchMode(btn.dataset.mode));
            });

            // Intensity rings
            document.querySelectorAll('.intensity-ring').forEach(ring => {
                ring.addEventListener('click', (e) => {
                    e.stopPropagation();
                    currentIntensity = parseInt(ring.dataset.intensity);
                    updateIntensityRings();
                    if (currentEmotion) updateEmotionDisplay();
                });
            });

            // Wheel center
            document.getElementById('wheel-center').addEventListener('click', randomEmotion);
        }

        function switchMode(mode) {
            currentMode = mode;
            document.querySelectorAll('.mode-btn').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.mode === mode);
            });
            
            // Update UI based on mode
            updateModeDisplay();
        }

        function updateModeDisplay() {
            const wheelCenter = document.getElementById('wheel-center');
            const insights = document.getElementById('insights-panel');
            
            switch(currentMode) {
                case 'explore':
                    wheelCenter.innerHTML = '<div style="font-size: 0.9em;">Click to</div><div style="font-size: 1.1em;">Explore</div>';
                    insights.style.display = 'none';
                    break;
                case 'track':
                    wheelCenter.innerHTML = '<div style="font-size: 0.9em;">Track</div><div style="font-size: 1.1em;">Mood</div>';
                    insights.style.display = 'block';
                    generateInsights();
                    break;
                case 'reflect':
                    wheelCenter.innerHTML = '<div style="font-size: 0.9em;">Journal</div><div style="font-size: 1.1em;">Reflect</div>';
                    insights.style.display = 'none';
                    break;
            }
        }

        function selectEmotion(emotionKey) {
            currentEmotion = emotionKey;
            selectedSubEmotions = [];
            
            // Update wheel visual
            document.querySelectorAll('.wheel-segment').forEach(segment => {
                segment.classList.toggle('active', segment.dataset.emotion === emotionKey);
            });
            
            updateEmotionDisplay();
            addToHistory(emotionKey);
            
            // Show breathing exercise for negative emotions
            if (['fear', 'sadness', 'anger', 'disgust'].includes(emotionKey)) {
                showBreathing();
            }
        }

        function updateEmotionDisplay() {
            if (!currentEmotion) return;
            
            const emotion = emotionData[currentEmotion];
            const display = document.getElementById('emotion-display');
            
            const intensityLabel = Object.values(emotion.intensity)[currentIntensity - 1] || emotion.name;
            
            display.innerHTML = `
                <div class="emotion-details active">
                    <div class="emotion-name">${emotion.name}</div>
                    <div style="color: ${emotion.color}; font-weight: 600; margin-bottom: 15px;">
                        Intensity: ${intensityLabel} (Level ${currentIntensity})
                    </div>
                    <p style="color: #555; line-height: 1.6; margin-bottom: 20px;">
                        ${emotion.description}
                    </p>
                    
                    <div style="margin-bottom: 20px;">
                        <h4 style="color: #2c3e50; margin-bottom: 12px;">Related Feelings:</h4>
                        <div class="sub-emotions-grid">
                            ${emotion.subEmotions.map(sub => `
                                <div class="sub-emotion-card ${selectedSubEmotions.includes(sub) ? 'selected' : ''}" 
                                     onclick="toggleSubEmotion('${sub}')">
                                    ${sub}
                                </div>
                            `).join('')}
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 20px;">
                        <h4 style="color: #2c3e50; margin-bottom: 10px;">Physical Sensations:</h4>
                        <div style="display: flex; flex-wrap: wrap; gap: 8px;">
                            ${emotion.physicalSensations.map(sensation => `
                                <span style="background: #e3f2fd; padding: 6px 12px; border-radius: 15px; font-size: 0.85em; color: #1976d2;">${sensation}</span>
                            `).join('')}
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 20px;">
                        <h4 style="color: #2c3e50; margin-bottom: 10px;">Coping Strategies:</h4>
                        <ul style="margin: 0; padding-left: 20px; color: #555;">
                            ${emotion.copingStrategies.map(strategy => `<li>${strategy}</li>`).join('')}
                        </ul>
                    </div>
                    
                    ${currentMode === 'reflect' ? createJournalSection() : ''}
                </div>
            `;
            
            updateIntensityRings();
        }

        function createJournalSection() {
            return `
                <div class="journal-section">
                    <h4><i class="fas fa-pen"></i> Reflection Journal</h4>
                    <textarea class="journal-textarea" placeholder="What triggered this emotion? How are you feeling in your body? What do you need right now?"></textarea>
                    <button class="action-btn" onclick="saveReflection()" style="margin-top: 15px; width: 100%;">
                        <i class="fas fa-save"></i> Save Reflection
                    </button>
                </div>
            `;
        }

        function toggleSubEmotion(subEmotion) {
            if (selectedSubEmotions.includes(subEmotion)) {
                selectedSubEmotions = selectedSubEmotions.filter(s => s !== subEmotion);
            } else {
                selectedSubEmotions.push(subEmotion);
            }
            updateEmotionDisplay();
        }

        function updateIntensityRings() {
            document.querySelectorAll('.intensity-ring').forEach(ring => {
                const intensity = parseInt(ring.dataset.intensity);
                const isActive = intensity === currentIntensity;
                ring.style.strokeWidth = isActive ? '8' : '4';
                ring.style.stroke = isActive ? emotionData[currentEmotion]?.color || '#2196f3' : '#e3f2fd';
            });
        }

        function addToHistory(emotion) {
            const timestamp = new Date().toLocaleString();
            emotionHistory.unshift({
                emotion,
                intensity: currentIntensity,
                subEmotions: [...selectedSubEmotions],
                timestamp,
                mode: currentMode
            });
            
            // Keep only last 50 entries
            if (emotionHistory.length > 50) {
                emotionHistory = emotionHistory.slice(0, 50);
            }
            
            saveToStorage();
        }

        function randomEmotion() {
            const emotions = Object.keys(emotionData);
            const randomKey = emotions[Math.floor(Math.random() * emotions.length)];
            selectEmotion(randomKey);
        }

        function showBreathing() {
            const breathingDiv = document.getElementById('breathing-exercise');
            breathingDiv.style.display = 'block';
            
            // Smooth scroll to breathing exercise
            breathingDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        function toggleBreathing() {
            const circle = document.getElementById('breathing-circle');
            const button = event.target;
            
            if (!isBreathing) {
                isBreathing = true;
                button.textContent = 'Stop Breathing';
                startBreathingAnimation();
            } else {
                isBreathing = false;
                button.textContent = 'Start Breathing';
                stopBreathingAnimation();
            }
        }

        function startBreathingAnimation() {
            const circle = document.getElementById('breathing-circle');
            let phase = 'inhale'; // inhale, hold, exhale, hold
            
            function breatheCycle() {
                if (!isBreathing) return;
                
                switch(phase) {
                    case 'inhale':
                        circle.textContent = 'Breathe In';
                        circle.className = 'breathing-circle inhale';
                        setTimeout(() => {
                            if (isBreathing) {
                                phase = 'exhale';
                                breatheCycle();
                            }
                        }, 4000);
                        break;
                    case 'exhale':
                        circle.textContent = 'Breathe Out';
                        circle.className = 'breathing-circle exhale';
                        setTimeout(() => {
                            if (isBreathing) {
                                phase = 'inhale';
                                breatheCycle();
                            }
                        }, 4000);
                        break;
                }
            }
            
            breatheCycle();
        }

        function stopBreathingAnimation() {
            const circle = document.getElementById('breathing-circle');
            circle.className = 'breathing-circle';
            circle.textContent = 'Breathe';
        }

        function generateInsights() {
            const insightsContent = document.getElementById('insights-content');
            const recentEmotions = emotionHistory.slice(0, 10);
            
            if (recentEmotions.length < 3) {
                insightsContent.innerHTML = `
                    <div class="insight-item">
                        <h5><i class="fas fa-chart-line"></i> Building Your Profile</h5>
                        <p>Keep exploring emotions to unlock personalized insights about your emotional patterns.</p>
                    </div>
                `;
                return;
            }
            
            const emotionCounts = {};
            const intensityCounts = {};
            
            recentEmotions.forEach(entry => {
                emotionCounts[entry.emotion] = (emotionCounts[entry.emotion] || 0) + 1;
                intensityCounts[entry.intensity] = (intensityCounts[entry.intensity] || 0) + 1;
            });
            
            const mostCommon = Object.keys(emotionCounts).reduce((a, b) => emotionCounts[a] > emotionCounts[b] ? a : b);
            const avgIntensity = (recentEmotions.reduce((sum, entry) => sum + entry.intensity, 0) / recentEmotions.length).toFixed(1);
            
            insightsContent.innerHTML = `
                <div class="insight-item">
                    <h5><i class="fas fa-trending-up"></i> Your Emotional Pattern</h5>
                    <p>Your most explored emotion recently is <strong>${emotionData[mostCommon].name}</strong>. Your average intensity level is <strong>${avgIntensity}/5</strong>.</p>
                </div>
                
                <div class="insight-item">
                    <h5><i class="fas fa-lightbulb"></i> Personalized Tip</h5>
                    <p>${generatePersonalizedTip(mostCommon, avgIntensity)}</p>
                </div>
                
                <div class="insight-item">
                    <h5><i class="fas fa-history"></i> Recent Journey</h5>
                    <div class="emotion-history-timeline">
                        ${recentEmotions.slice(0, 5).map(entry => `
                            <div class="timeline-item">
                                <span style="color: ${emotionData[entry.emotion].color}; font-weight: 600;">${emotionData[entry.emotion].name}</span>
                                <span style="margin-left: 10px;">Intensity: ${entry.intensity}</span>
                                <span class="timeline-time">${entry.timestamp.split(',')[1]}</span>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        function generatePersonalizedTip(emotion, avgIntensity) {
            const tips = {
                joy: "You're experiencing a lot of positive emotions! Consider keeping a gratitude journal to maintain this momentum.",
                sadness: "Processing sadness is healthy. Try gentle activities like walking in nature or listening to soothing music.",
                fear: "Fear often signals growth opportunities. Practice deep breathing and take small steps toward what scares you.",
                anger: "Channel your anger constructively through physical exercise or creative expression.",
                disgust: "Notice what triggers your disgust - it might reveal important values or boundaries.",
                surprise: "Embrace the unexpected! Surprise often leads to growth and new perspectives.",
                trust: "Your trusting nature is a strength. Just remember to balance trust with healthy boundaries.",
                anticipation: "Your forward-thinking nature is powerful. Try to also appreciate the present moment."
            };
            
            let tip = tips[emotion] || "Continue exploring your emotions to build self-awareness.";
            
            if (avgIntensity > 4) {
                tip += " Since you're experiencing high intensity emotions, consider practicing mindfulness or speaking with a counselor.";
            }
            
            return tip;
        }

        function saveReflection() {
            const textarea = document.querySelector('.journal-textarea');
            if (textarea && textarea.value.trim() && currentEmotion) {
                const reflection = {
                    emotion: currentEmotion,
                    intensity: currentIntensity,
                    subEmotions: [...selectedSubEmotions],
                    text: textarea.value.trim(),
                    timestamp: new Date().toISOString()
                };
                
                // Save to history with reflection
                emotionHistory[0] = { ...emotionHistory[0], reflection: reflection.text };
                saveToStorage();
                
                // Show success message
                textarea.style.borderColor = '#00b894';
                setTimeout(() => textarea.style.borderColor = '#e0e0e0', 2000);
                
                // Clear textarea
                textarea.value = '';
            }
        }

        function exportData() {
            const data = {
                emotionHistory,
                moodData,
                exportDate: new Date().toISOString(),
                summary: {
                    totalEntries: emotionHistory.length,
                    dateRange: emotionHistory.length > 0 ? {
                        first: emotionHistory[emotionHistory.length - 1].timestamp,
                        last: emotionHistory[0].timestamp
                    } : null
                }
            };
            
            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `emotion_data_${new Date().toISOString().split('T')[0]}.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        function resetAll() {
            if (confirm('Are you sure you want to reset all data? This cannot be undone.')) {
                emotionHistory = [];
                moodData = {};
                selectedSubEmotions = [];
                currentEmotion = null;
                currentIntensity = 3;
                
                // Clear storage
                localStorage.removeItem('emotionWheelData');
                
                // Reset UI
                document.querySelectorAll('.wheel-segment').forEach(segment => {
                    segment.classList.remove('active');
                });
                
                document.getElementById('emotion-display').innerHTML = `
                    <div style="text-align: center; padding: 40px 20px; color: #666;">
                        <i class="fas fa-hand-pointer" style="font-size: 2em; margin-bottom: 15px; opacity: 0.5;"></i>
                        <p>Click on the wheel to explore your emotions</p>
                    </div>
                `;
                
                updateIntensityRings();
            }
        }

        function saveToStorage() {
            const data = {
                emotionHistory,
                moodData,
                lastSaved: new Date().toISOString()
            };
            localStorage.setItem('emotionWheelData', JSON.stringify(data));
        }

        function loadSavedData() {
            try {
                const saved = localStorage.getItem('emotionWheelData');
                if (saved) {
                    const data = JSON.parse(saved);
                    emotionHistory = data.emotionHistory || [];
                    moodData = data.moodData || {};
                }
            } catch (error) {
                console.warn('Could not load saved data:', error);
            }
        }
    </script>