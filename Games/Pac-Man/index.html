<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Neon Maze — Advanced Pac-Like</title>

  <!-- Stylesheet (I'll give this next) -->
  <link rel="stylesheet" href="styles.css">

  <!-- Optional font for arcade feel -->
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">

  <!-- Howler.js for audio (CDN) -->
  <script src="https://cdn.jsdelivr.net/npm/howler@2.2.3/dist/howler.min.js" defer></script>

  <!-- Game logic will be loaded after page (I'll provide this as game.js) -->
  <script src="game.js" defer></script>
</head>
<body>
  <div class="wrap">

    <!-- Header / HUD -->
    <header class="header">
      <div class="title-row">
        <h1 class="title">Neon Maze</h1>
      </div>

      <div class="hud" role="region" aria-label="game status">
        <div class="hud-item">SCORE: <span id="score">0</span></div>
        <div class="hud-item">HIGH: <span id="high">0</span></div>
        <div class="hud-item">LIVES: <span id="lives">3</span></div>
        <div class="hud-item">LEVEL: <span id="level">1</span></div>
      </div>
    </header>

    <!-- Main game + side panel -->
    <main class="main-grid">

      <!-- Left: Game area -->
      <section class="game-section" aria-label="game area">
        <div id="game-area" class="game-area">

          <!-- Canvas for rendering -->
          <canvas id="gameCanvas" width="560" height="620" aria-label="game canvas"></canvas>

          <!-- Start overlay / difficulty chooser -->
          <div id="start-overlay" class="overlay" role="dialog" aria-modal="true" aria-label="Start menu">
            <div class="overlay-box">
              <h2>Select difficulty</h2>

              <div class="difficulty-row" role="radiogroup" aria-label="Difficulty">
                <button id="btn-easy" class="diff-btn" role="radio" aria-checked="false">Easy</button>
                <button id="btn-medium" class="diff-btn selected" role="radio" aria-checked="true">Medium</button>
                <button id="btn-hard" class="diff-btn" role="radio" aria-checked="false">Hard</button>
              </div>

              <div class="start-row">
                <button id="btn-start" class="start-btn" aria-label="Start game">Start Game</button>
              </div>

              <p class="hint">Use Arrow keys or WASD. Touch controls appear on mobile.</p>
              <small class="version">Static single-file client-side — production-ready</small>
            </div>
          </div>

          <!-- Touch D-pad (mobile) -->
          <div id="touchPad" class="touch-pad" aria-hidden="true">
            <button class="tb tb-up" data-dir="up" aria-label="Up">↑</button>
            <button class="tb tb-left" data-dir="left" aria-label="Left">←</button>
            <button class="tb tb-right" data-dir="right" aria-label="Right">→</button>
            <button class="tb tb-down" data-dir="down" aria-label="Down">↓</button>
          </div>

          <!-- Small full-screen message area (Ready, Game Over, You Win) -->
          <div id="message" class="message" aria-hidden="true"></div>

        </div>
      </section>

      <!-- Right: Controls / Settings -->
      <aside class="panel" role="complementary" aria-label="game controls">
        <h3>Controls</h3>
        <div class="controls">
          <button id="ctrl-arrows" class="control-btn selected">Arrow keys</button>
          <button id="ctrl-wasd" class="control-btn">WASD</button>
        </div>

        <h3>Options</h3>
        <div class="options">
          <label><input id="toggle-debug" type="checkbox"> Show debug paths</label>
          <div class="option-note">Toggle visual A* paths & tile debug to tune AI.</div>
        </div>

        <h3>Notes</h3>
        <ul class="notes">
          <li>Ghosts: Blinky, Pinky, Inky, Clyde — distinct behaviors</li>
          <li>State machine: spawn → scatter ↔ chase → frightened → eaten → respawn</li>
          <li>LocalStorage: high score, control scheme, last difficulty</li>
        </ul>

        <hr>

        <div class="panel-actions">
          <button id="btn-sound-toggle" class="small-btn">Toggle Sound</button>
          <button id="btn-reset-high" class="small-btn">Reset High Score</button>
        </div>

        <footer class="credits">
          <small>Drop these 3 files on any static host — ready to deploy.</small>
        </footer>
      </aside>
    </main>
  </div>

  <!-- Small inline script to improve accessibility focus handling (non-logic) -->
  <script>
    // Make difficulty buttons behave and announce selection for screen-readers.
    (function(){
      const btns = [document.getElementById('btn-easy'), document.getElementById('btn-medium'), document.getElementById('btn-hard')];
      btns.forEach(b => b.addEventListener('click', ()=> {
        btns.forEach(x=> { x.classList.remove('selected'); x.setAttribute('aria-checked','false'); });
        b.classList.add('selected'); b.setAttribute('aria-checked','true');
      }));
    })();
  </script>
</body>
</html>
